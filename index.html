		    
			<html>
			<head>
				<title>URA Car Park Map</title>
				<script src='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
				<link href='https://api.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
				<link rel="stylesheet" type="text/css" href="uramap.css">
			</head>
			
			<body>

				<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.2.0/mapbox-gl-geocoder.min.js'></script>
				<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.2.0/mapbox-gl-geocoder.css' type='text/css' />
				<div id='map'></div>
					<div class='map-overlay' id='features'><h2>URA car parks</h2><div id='pd'><p>Loading...</p></div></div>
					<div class='map-overlay' id='legend'></div>

			<script>
			mapboxgl.accessToken = 'pk.eyJ1IjoibWVycnV2ZWVuIiwiYSI6ImNqaWJ2YnI2MzFtYTMzcG5ibTc5eGN1bDMifQ.ngaxrHtoh714BH73TK1ZcA';

				// Set max boundary to Singapore
			var bounds = [
    			[103.575076, 1.211711], // Southwest 
    			[104.040622, 1.482174]  // Northeast 
				];

			var map = new mapboxgl.Map({
  				container: 'map', // container id
  				style: 'mapbox://styles/merruveen/cjibvtt4j06qh2sp6b8xh55v2',
  				maxBounds: bounds 
			});

			/*you don't need pants for the victory dance
			cuz baboon's better than weasel  
			(=ↀωↀ=)✧ */
			//disable map rotate
			map.dragRotate.disable();

			map.on('load', function() {
  				var layers = ['Parking.sg', 'EPS'];
				var colors = ['#5DEA0B', '#ED4112'];

				for (i = 0; i < layers.length; i++) {
  				var layer = layers[i];
  				var color = colors[i];
				var item = document.createElement('div');
				var key = document.createElement('span');
				key.className = 'legend-key';
				key.style.backgroundColor = color;

				var value = document.createElement('span');
				value.innerHTML = layer;
				item.appendChild(key);
				item.appendChild(value);
				legend.appendChild(item);
				}
			});

			// When a click event occurs on a feature in the states layer, open a popup at the
    		// location of the click, with description HTML from its properties.
    		map.on('click', 'all-ura-cps', function (e) {
        		new mapboxgl.Popup()
		            .setLngLat(e.lngLat)
		            .setHTML(e.features[0].properties.PP_CODE + ': ' + e.features[0].properties.NAME)
		            .addTo(map);
    		});

		    // Change the cursor to a pointer when the mouse is over the states layer.
		    map.on('mouseenter', 'all-ura-cps', function () {
		        map.getCanvas().style.cursor = 'pointer';
		    });

		    // Change it back to a pointer when it leaves.
		    map.on('mouseleave', 'all-ura-cps', function () {
		        map.getCanvas().style.cursor = '';
		    });


			map.addControl(new MapboxGeocoder({
    		accessToken: mapboxgl.accessToken
			}));

			</script>
			</body>
			</html>

		